# Начало работы

## Установка

<VueMasteryLogoLink for="pinia-cheat-sheet">
</VueMasteryLogoLink>

Установите `pinia` с помощью вашего любимого менеджера пакетов:

```bash
yarn add pinia
# или с помощью npm
npm install pinia
```

:::tip
Если ваше приложение использует Vue <2.7, вам также необходимо установить composition api: `@vue/composition-api`. Если вы используете Nuxt, вам следует следовать [этим инструкциям](/ssr/nuxt.md).
:::

Если вы используете Vue CLI, вместо этого можно попробовать этот [**неофициальный плагин**](https://github.com/wobsoriano/vue-cli-plugin-pinia).

Создайте экземпляр pinia (корневое хранилище) и передайте его приложению как плагин:

```js {2,5-6,8}
import { createApp } from 'vue'
import { createPinia } from 'pinia'
import App from './App.vue'

const pinia = createPinia()
const app = createApp(App)

app.use(pinia)
app.mount('#app')
```

Если вы используете Vue 2, вам также необходимо установить плагин и внедрить созданную `pinia` в корень приложения:

```js {1,3-4,12}
import { createPinia, PiniaVuePlugin } from 'pinia'

Vue.use(PiniaVuePlugin)
const pinia = createPinia()

new Vue({
  el: '#app',
  // ... другие параметры
  // ...
  // обратите внимание, что один и тот же экземпляр `pinia` может использоваться в нескольких приложениях Vue на
  // одной и той же странице
  pinia,
})
```

Это также добавит поддержку devtools. В Vue 3 некоторые функции, такие как перемещение во времени и редактирование, все еще не поддерживаются, потому что vue-devtools еще не раскрывает необходимые API, но devtools имеет гораздо больше возможностей, а опыт разработчика в целом намного лучше. В Vue 2 Pinia использует существующий интерфейс для Vuex (и поэтому не может быть использована вместе с ним).

## Что такое Store?

Store (как и Pinia) - это сущность, хранящая состояние и бизнес-логику, которая не привязана к вашему дереву компонентов. Другими словами, **в нем хранится глобальное состояние**. Это что-то вроде компонента, который всегда на месте и который все могут считывать и записывать. У него есть **три концепции**, [состояние](./core-concepts/state.md), [геттеры](./core-concepts/getters.md) и [экшены](./core-concepts/actions.md), и можно предположить, что эти концепции являются эквивалентом `data`, `computed` и `methods` в компонентах.

## Когда следует использовать хранилище

Хранилище должно содержать данные, доступ к которым возможен во всем приложении. Сюда входят данные, которые используются во многих местах, например, информация о пользователе, отображаемая в навигационной панели, а также данные, которые должны сохраняться на протяжении страниц, например, очень сложная многоступенчатая форма.

С другой стороны, следует избегать включения в хранилище локальных данных, которые могут быть размещены в компоненте, например, видимость элемента, локального для страницы.

Не всем приложениям нужен доступ к глобальному состоянию, но если вашему он необходим, Pinia облегчит вам жизнь.
